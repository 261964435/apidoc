<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
        <meta charset='utf-8'>
        <title>apidoc - RESTful api文档生成工具</title>
        <meta name="keywords" content="apidoc,api,RESTful api,go,cpp,doc,文档生成" />
        <meta name="description" content="apidoc : RESTful api文档生成工具" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.0.8/semantic.min.css">
        <link rel="stylesheet" href="./style.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.0.8/semantic.min.js"></script>
        <script src="./main.js"></script>
    </head>

    <body>
        <header>
            <div class="ui container">
                <span class="ui text menu left floated">
                    <a class="item" href="#">APIDOC<sub>beta</sub></a>
                </span>
                <nav class="ui text menu right floated">
                    <a class="item" href="#about">关于</a>
                    <a class="item" href="#usage">使用</a>
                    <a class="item" href="#docs">文档</a>
                    <a class="item" href="https://github.com/caixw/apidoc">
                        <i class="icon github"></i>Github
                    </a>
                </nav>
                <div style="clear:both"></div>
            </div>
        </header>

        <div class="ui container" id="main">

            <!-- about -->
            <article class="ui piled segment" id="about">
                <h2 class="ui header">关于</h2>
                <p>apidc是一个简单的RESTful api文档生成工具，它从代码注释中提取特定格式的内容，生成文档。</p>
                <p>目前已支持所有c语言注释风格的代码：PHP, Go, Java, Javascript, C/CPP等。</p>
                <pre>
                /**
                 @api get /users/:id 获取指定用户的相关信息
                 @apiGroup users
                 @apiParam id int 表示用户id的唯一值
                 @apiStatus 200 json ok
                 @apiExample
                 {"id":1, "name": "n1"}
                */
                </pre>
            </article>

            <!-- usage -->
            <article class="ui piled segment" id="usage">
                <h2 class="ui header">使用</h2>

                <section>
                    <h3>安装</h3>
                    <p>1. 安装<a href="https://golang.org">Go</a>环境；</p>
                    <p>2. 安装apidoc：<code>go get github.com/caixw/apidoc</code>；</p>
                </section>

                <section>
                    <h3>命令行语法</h3>
                    <p><code>apidoc [options] src doc</code></p>
                    <p>src为源代码所在的目录。</p>
                    <p>doc为产生后的文档存放目录，若该目录不存在，会尝试自动创建。</p>
                    <p>options为一些可选的设置项：</p>
                    <table class="ui very compact table">
                        <thead>
                            <tr><th>参数</th><th>默认值</th><th>描述</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>-r</td><td>true</td><td>是否检测子目录</td></tr>
                            <tr>
                                <td>-t</td><td>""</td><td>语言类型，可以是任何支持的语言名称，如go,php等</td>
                            </tr>
                            <tr>
                                <td>-ext</td>
                                <td>""</td>
                                <td>只扫描这些扩展名的文件，不指定的情况下，根据语言类型自动匹配相应的扩展名</td>
                            </tr>
                        </tbody>
                    </table>
                </section>
            </article>

            <!-- docs -->
            <article class="ui piled segment" id="docs">
                <h2 class="ui header">文档</h2>

                <!-- @api -->
                <section id="api">
                    <h3>@api</h3>
                    <p>语法:<code class="go">@api method url summary [\n detail]</code></p>
                    <table class="ui very compact table">
                        <thead>
                            <tr><th>参数</th><th>可选</th><th>参数说明</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>method</td><td>false</td><td>该api对应的请求方法</td>
                            </tr>
                            <tr>
                                <td>url</td><td>false</td><td>该api的请求地址</td>
                            </tr>
                            <tr>
                                <td>summary</td><td>false</td><td>该api的简要描述信息，到行尾结束</td>
                            </tr>
                            <tr>
                                <td>detail</td>
                                <td>true</td>
                                <td>api的详细信息，可以多行，直到碰到下一行的@api开头的字符串</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>示例：</p>
                    <pre>
                    /**
                     @api get /users/{id} 获取指定用户的相关信息
                    */
                    </pre>
                </section>

                <!-- @apiGroup -->
                <section id="apigroup">
                    <h3>@apiGroup</h3>
                    <p>@apiGroup提供了对api的分组信息，不同的分组，最终可能会被呈现在不同的页面。</p>
                    <p>语法：<code>@apiGroup groupName</code></p>
                    <p>示例：</p>
                    <pre>
                    /**
                     @apiGroup users
                     */
                    </pre>
                </section>

                <!-- apiQuery -->
                <section id="apiparam">
                    <h3>@apiQuery/@apiParam</h3>
                    <p>@apiQuery和@apiParam拥有相同的参数，其行为也类似，用于描述一个值的具体信息。</p>
                    <p>@apiQuery描述api的查询参数；而@apiParam则用于描述路径中占位符代码的参数，或是在@apiRequest中表示提交数据的参数，在@apiSuccess各@apiError中表示返回数据的参数。</p>
                    <p>语法：<code>@apiQuery/apiParam name type summary</code></p>
                    <table class="ui very compact table">
                        <thead>
                            <tr><th>参数</th><th>可选</th><th>描述</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>name</td><td>false</td><td>参数名称</td>
                            </tr>
                            <tr>
                                <td>type</td><td>false</td><td>参数的类型，类型名称根据需要自己指定。没有统一格式。</td>
                            </tr>
                            <tr>
                                <td>summary</td><td>false</td><td>一行简短的语名用于描述该参数作用。</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>示例：</p>
                    <pre>
                    /**
                     @api get /users 获取所有的用户信息。
                     @apiQuery page int 获取第几页的内容。
                     @apiQuery size int 每页显示的数量。
                     */
                    </pre>
                </section>

                <section id="apiheader">
                    <h3>@apiHeader</h3>
                    <p>@apiHeader用于在@apiRequest，@apiSuccess和@apiError中描述请求头和响应的内容。</p>
                    <p>语法：<code>@apiHeader key value</code></p>
                    <p>示例：</p>
                    <pre>
                    /**
                     @apiHeader Authorization Basic xx-af
                     */
                    </pre>
                </section>

                <section id="apiexample">
                    <h3>@apiExample</h3>
                    <p>描述@apiRequest，@apiSuccess和@apiError中请求和响应内容的示例。</p>
                    <p>语法：<code>@apiExample type</code>type表示请求体的格式，可是以json，xml。</p>
                    <p>示例：</p>
                    <pre>
                    /**
                     @apiExample json
                     { "id":1, "name":"admin" }
                     */
                    </pre>
                </section>

                <section id="apirequest">
                    <h3>@apiRequest</h3>
                    <p>@apiRequest描述了所有的请求该包含的内容，其本身可包含@apiHeader，@apiExample和@apiParam三个子标签。</p>
                    <p>语法：<code>@apiRequest type</code>，type表示请求体的格式，可是以json，xml。</p>
                    <p>示例：</p>
                    <pre>
                    /**
                     @apiRequest json
                     @apiHeader Authorization Basic xxxx
                     @apiParam username string 登录账号
                     @apiParam password string 登录密码
                     @apiExample json
                     {"username":"admin", "password":"123"}
                     */
                    </pre>
                </section>

                <section id="apisuccess">
                    <h3>@apiSuccess/@apiError</h3>
                    <p>@apiSuccess/@apiError描述了响应包含的内容，其本身可包含@apiHeader，@apiExample和@apiParam三个子标签。</p>
                    <p>语法：<code>@apiSuccess/Error status type summary</code></p>
                    <table class="ui very compact table">
                        <thead>
                            <tr><th>参数</th><th>描述</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>status</td>
                                <td>返回的状态码</td>
                            </tr>
                            <tr>
                                <td>summary</td>
                                <td>一个简短的描述信息。</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>示例：</p>
                    <pre>
                    /**
                     @apiSuccess 200 OK
                     @apiHeader Authorization Basic xxxx
                     @apiParam username string 登录账号
                     @apiParam name string 用户名称
                     @apiParam sex string 用户性别
                     @apiExample json
                     {"username":"admin", "name":"admin", "sex":"male"}
                     */
                    </pre>
                </section>

            </article>
        </div>

        <footer>
            <div class="ui container">
                <div class="left">
                    <p>apidoc是基于<a rel="license" href="http://opensource.org/licenses/MIT">MIT</a>发布的开源软件。</p>
                    <p>本页面内容采用<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可协议</a>进行许可。</p>
                </div>

                <div class="right">
                    <p>内容托管于<a href="https://github.com/caixw/apidoc">Github</a></p>
                    <p>内容更新于<time>2015-08-16T20:48:00+0800</time></p>
                </div>
            </div>
            <div class="clearfix"></div>
        </footer>
    </body>
</html>
